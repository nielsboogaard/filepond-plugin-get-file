/*!
 * FilePondPluginGetFile 1.1.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

const e=e=>{let n=document.createElement("span");return n.className="filepond--download-icon",n.title=e,n},n=(e,n,t)=>{if(t&&"function"==typeof t)return void t(e);let o=n&&!!e.getMetadata("url");const i=document.createElement("a"),l=o?e.getMetadata("url"):window.URL.createObjectURL(e.file);document.body.appendChild(i),i.style.display="none",i.href=l,o&&(i.target="_blank"),i.download=e.file.name,i.click(),o||window.URL.revokeObjectURL(l),i.remove()},t=t=>{const{addFilter:o,utils:i}=t,{Type:l,createRoute:d}=i;return o("CREATE_VIEW",(t=>{const{is:o,view:i,query:l}=t;if(!o("file"))return;i.registerWriter(d({DID_LOAD_ITEM:({root:t,props:o})=>{const{id:i}=o,d=l("GET_ITEM",i);if(!d||d.archived)return;const r=t.query("GET_LABEL_BUTTON_DOWNLOAD_ITEM"),a=t.query("GET_ALLOW_DOWNLOAD_BY_URL"),c=t.query("GET_DOWNLOAD_FUNCTION");((t,o,i,l,d)=>{const r=o.querySelector(".filepond--file-info"),a=o.querySelector(".filepond--file-info-main"),c=e(i);let u=o.querySelector(".filepond--file-info-main-container");u||(u=document.createElement("div"),u.className="filepond--file-info-main-container",u.append(a),r.prepend(u)),u.prepend(c),c.addEventListener("click",(()=>n(t,l,d)))})(d,t.element,r,a,c)}},(({root:e,props:n})=>{const{id:t}=n;l("GET_ITEM",t);e.rect.element.hidden})))})),{options:{labelButtonDownloadItem:["Download file",l.STRING],allowDownloadByUrl:[!1,l.BOOLEAN],downloadFunction:[null,l.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t}));export{t as default};
