/*!
 * FilePondPluginGetFile 1.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).FilePondPluginGetFile=t()}(this,(function(){"use strict";const e=e=>{let t=document.createElement("span");return t.className="filepond--download-icon",t.title=e,t},t=e=>{const t=document.createElement("span"),n=e.getMetadata("filename")?e.getMetadata("filename"):e.filename;return t.className="filepond--file-name",t.title=n,t.innerHTML=n,t},n=(e,t)=>{if(t&&e.getMetadata("url"))location.href=e.getMetadata("url");else{const t=document.createElement("a"),n=window.URL.createObjectURL(e.file);document.body.appendChild(t),t.style.display="none",t.href=n,t.download=e.file.name,t.click(),window.URL.revokeObjectURL(n),t.remove()}},o=o=>{const{addFilter:i,utils:l}=o,{Type:d,createRoute:a}=l;return i("CREATE_VIEW",o=>{const{is:i,view:l,query:d}=o;if(!i("file"))return;l.registerWriter(a({DID_LOAD_ITEM:({root:o,props:i})=>{const{id:l}=i,a=d("GET_ITEM",l);if(!a||a.archived)return;const r=o.query("GET_LABEL_BUTTON_DOWNLOAD_ITEM"),c=o.query("GET_ALLOW_DOWNLOAD_BY_URL");((o,i,l,d)=>{const a=i.querySelector(".filepond--file-info-main"),r=e(l),c=t(o);a.replaceChildren(r,c),r.addEventListener("click",()=>n(o,d))})(a,o.element,r,c)}},({root:e,props:t})=>{const{id:n}=t;d("GET_ITEM",n);e.rect.element.hidden}))}),{options:{labelButtonDownloadItem:["Download file",d.STRING],allowDownloadByUrl:[!1,d.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:o})),o}));
